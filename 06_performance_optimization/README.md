# 06_performance_optimization

Elasticsearch 성능 최적화 기법을 학습하여 실제 운영 환경에서 활용할 수 있는 튜닝 방법을 익힙니다.

## 파일 구성
| 경로 | 설명 |
|------|------|
| `scripts/shard_replica_examples.http` | 샤드/복제본 설정 및 세그먼트 병합 |
| `scripts/profiling_examples.http` | 쿼리 성능 프로파일링 및 통계 |
| `scripts/index_template.http` | 인덱스 템플릿으로 일관된 설정 관리 |

## 실습 순서
1. **샤드 전략**: 단일 vs 멀티 샤드 성능 비교
2. **프로파일링**: `profile: true`로 쿼리 실행 계획 분석
3. **세그먼트 최적화**: `_forcemerge`로 검색 성능 개선
4. **인덱스 템플릿**: 새 인덱스 자동 설정 적용

## 학습 포인트
- **샤드 크기**: 20-40GB 권장, 너무 많으면 오버헤드 증가
- **복제본**: 읽기 성능 vs 저장 공간 트레이드오프
- **새로고침 간격**: 실시간성 vs 색인 성능 균형
- **세그먼트 병합**: 검색 속도 향상, 디스크 공간 절약

## 성능 측정 지표
- `took`: 쿼리 실행 시간 (밀리초)
- `profile.shards[].searches[].query`: 쿼리별 세부 시간
- `_stats`: 인덱스/노드별 리소스 사용량
- `_cat/shards`: 샤드 분산 상태

## 추가 미션
- 대용량 샘플 데이터로 샤드 수별 성능 테스트
- 느린 쿼리 로그 설정 및 모니터링 구성